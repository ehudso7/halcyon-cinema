# ================================================
# HALCYON-Cinema Environment Configuration
# ================================================
# LOCAL DEVELOPMENT:
#   Copy this file to .env.local and fill in the values:
#     cp .env.example .env.local
#
# VERCEL DEPLOYMENT:
#   Set these in your Vercel project settings:
#   1. Go to your project on vercel.com
#   2. Settings → Environment Variables
#   3. Add NEXTAUTH_SECRET (required!) and POSTGRES_URL
#
# NOTE: This app connects directly to PostgreSQL using the 'pg' library.
#       It does NOT use the Supabase JavaScript client, so Supabase API
#       keys (anon key, service role key, etc.) are not required.
# ================================================

# ------------------------------------------------
# REQUIRED: NextAuth.js Configuration
# ------------------------------------------------
# Generate a secret with: openssl rand -base64 32
#
# ⚠️  CRITICAL: This is REQUIRED for authentication to work!
#     Without this, users cannot sign up or log in.
#
# For Vercel: Add this to Environment Variables in project settings
NEXTAUTH_SECRET=your_nextauth_secret_here
NEXTAUTH_URL=http://localhost:3000

# ------------------------------------------------
# OPTIONAL: OpenAI API Key for DALL-E image generation
# ------------------------------------------------
# Get your API key from: https://platform.openai.com/api-keys
# Without this, AI image generation features won't work
# OPENAI_API_KEY=your_openai_api_key_here

# ------------------------------------------------
# RECOMMENDED FOR PRODUCTION: Database Configuration
# ------------------------------------------------
# This project uses Supabase PostgreSQL for database storage.
#
# Get your connection string from your Supabase project dashboard:
#   1. Go to https://supabase.com/dashboard
#   2. Select your project → Settings → Database
#   3. Copy the "Connection string" (URI format)
#   4. Replace [YOUR-PASSWORD] with your database password
#
# If using Vercel's Supabase integration:
#   The POSTGRES_URL will be automatically added when you connect
#   your Supabase database through Vercel's Storage tab.
#
# Without this, the app uses ephemeral /tmp storage on Vercel
# (data will be lost when the serverless function cold starts)
#
# Format: postgres://[user]:[password]@[host]:[port]/[database]
# POSTGRES_URL=postgres://postgres.xxxxxxxxxxxx:password@aws-0-region.pooler.supabase.com:6543/postgres
#
# Alternative: DATABASE_URL is also supported (POSTGRES_URL takes precedence)
# DATABASE_URL=postgres://postgres.xxxxxxxxxxxx:password@aws-0-region.pooler.supabase.com:6543/postgres

# ------------------------------------------------
# OPTIONAL: SSL Configuration for Database
# ------------------------------------------------
# Control SSL behavior for database connections.
#
# Security defaults:
# - Production (non-Vercel): SSL with strict certificate validation
# - Production (Vercel): SSL without strict validation (secured at infrastructure level)
# - Development: No SSL by default
#
# DB_SSL=false                         # Disable SSL entirely (not recommended for production)
# DB_SSL=true                          # Enable SSL in development
# DB_SSL_REJECT_UNAUTHORIZED=true      # Enable strict validation (for Vercel or to override defaults)
# DB_SSL_REJECT_UNAUTHORIZED=false     # Disable strict certificate validation (use with caution)
# DB_SSL_CA=                           # Custom CA certificate (PEM format, use literal \n for newlines)

# ------------------------------------------------
# OPTIONAL: Connection Pool Configuration
# ------------------------------------------------
# Fine-tune database connection pool behavior.
# These have sensible defaults and typically don't need to be changed.
#
# DB_POOL_MAX=10                       # Maximum number of connections in pool (default: 10)
# DB_IDLE_TIMEOUT=30000                # Close idle connections after this many ms (default: 30000)
# DB_CONNECTION_TIMEOUT=10000          # Timeout for acquiring a connection in ms (default: 10000)
